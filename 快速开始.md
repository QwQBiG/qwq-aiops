# qwq AIOps å¹³å° - å¿«é€Ÿå¼€å§‹

## ğŸ¯ 5 åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

### æ­¥éª¤ 1: å‡†å¤‡ç¯å¢ƒ

ç¡®ä¿å·²å®‰è£…ï¼š
- âœ… Docker 20.10+
- âœ… Docker Compose V2
- âœ… 4GB+ å¯ç”¨å†…å­˜
- âœ… 10GB+ å¯ç”¨ç£ç›˜ç©ºé—´

### æ­¥éª¤ 2: è·å–ä»£ç 

```bash
git clone https://github.com/QwQBiG/qwq-aiops.git
cd qwq-aiops
```

### æ­¥éª¤ 3: é…ç½® AI æœåŠ¡

**é‡è¦**: qwq æ˜¯ AI é©±åŠ¨çš„å¹³å°ï¼Œå¿…é¡»é…ç½® AI æœåŠ¡ï¼

#### é€‰é¡¹ A: OpenAI APIï¼ˆç®€å•å¿«é€Ÿï¼‰

```bash
# 1. å¤åˆ¶é…ç½®æ–‡ä»¶
cp .env.example .env

# 2. ç¼–è¾‘é…ç½®
nano .env

# 3. å–æ¶ˆæ³¨é‡Šå¹¶å¡«å†™
AI_PROVIDER=openai
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-3.5-turbo
```

#### é€‰é¡¹ B: Ollama æœ¬åœ°æ¨¡å‹ï¼ˆå…è´¹ï¼‰

```bash
# 1. å®‰è£… Ollama
curl -fsSL https://ollama.com/install.sh | sh

# 2. ä¸‹è½½æ¨¡å‹
ollama pull qwen2.5:7b

# 3. ç¼–è¾‘é…ç½®
cp .env.example .env
nano .env

# 4. å–æ¶ˆæ³¨é‡Šå¹¶å¡«å†™
AI_PROVIDER=ollama
OLLAMA_HOST=http://host.docker.internal:11434
OLLAMA_MODEL=qwen2.5:7b
```

### æ­¥éª¤ 4: ä¸€é”®éƒ¨ç½²

**Linux/macOS**:
```bash
chmod +x deploy.sh
./deploy.sh
```

**Windows**:
```bash
start.bat
```

### æ­¥éª¤ 5: è®¿é—®ç³»ç»Ÿ

éƒ¨ç½²æˆåŠŸåï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š

ğŸŒ **http://localhost:8081**

é»˜è®¤è´¦å·ï¼š
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

---

## ğŸ“Š éªŒè¯éƒ¨ç½²

### æ£€æŸ¥å®¹å™¨çŠ¶æ€

```bash
docker compose ps
```

åº”è¯¥çœ‹åˆ° 5 ä¸ªå®¹å™¨è¿è¡Œä¸­ï¼š
```
NAME              STATUS
qwq               Up (healthy)
qwq-mysql         Up (healthy)
qwq-redis         Up
qwq-prometheus    Up
qwq-grafana       Up
```

### å¥åº·æ£€æŸ¥

```bash
curl http://localhost:8081/api/health
```

è¿”å›ï¼š
```json
{"status":"ok","timestamp":"2024-12-08T..."}
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹ä¸»æœåŠ¡æ—¥å¿—
docker compose logs -f qwq

# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker compose logs -f
```

---

## ğŸ¨ åŠŸèƒ½æ¼”ç¤º

### 1. æ™ºèƒ½è¯Šæ–­

1. ç™»å½•ç³»ç»Ÿ
2. ç‚¹å‡»"æ™ºèƒ½è¯Šæ–­"
3. è¾“å…¥é—®é¢˜ï¼Œä¾‹å¦‚ï¼š
   - "æœåŠ¡å™¨è´Ÿè½½è¿‡é«˜æ€ä¹ˆåŠï¼Ÿ"
   - "å¦‚ä½•ä¼˜åŒ– MySQL æ€§èƒ½ï¼Ÿ"
   - "Docker å®¹å™¨æ— æ³•å¯åŠ¨"
4. AI ä¼šåˆ†æå¹¶ç»™å‡ºè§£å†³æ–¹æ¡ˆ

### 2. ç³»ç»Ÿç›‘æ§

1. è¿›å…¥"ç›‘æ§é¢æ¿"
2. æŸ¥çœ‹å®æ—¶æŒ‡æ ‡ï¼š
   - CPU ä½¿ç”¨ç‡
   - å†…å­˜ä½¿ç”¨ç‡
   - ç£ç›˜ä½¿ç”¨ç‡
   - ç½‘ç»œè¿æ¥æ•°

### 3. å®¹å™¨ç®¡ç†

1. è¿›å…¥"å®¹å™¨ç®¡ç†"
2. æŸ¥çœ‹æ‰€æœ‰ Docker å®¹å™¨
3. å¯ä»¥å¯åŠ¨/åœæ­¢/é‡å¯å®¹å™¨
4. æŸ¥çœ‹å®¹å™¨æ—¥å¿—

### 4. å‘Šè­¦é…ç½®

1. è¿›å…¥"å‘Šè­¦ç®¡ç†"
2. é…ç½®å‘Šè­¦è§„åˆ™
3. è®¾ç½®é€šçŸ¥æ¸ é“ï¼ˆé’‰é’‰/ä¼ä¸šå¾®ä¿¡/é‚®ä»¶ï¼‰
4. æµ‹è¯•å‘Šè­¦æ¨é€

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### æœåŠ¡ç®¡ç†

```bash
# å¯åŠ¨æœåŠ¡
docker compose up -d

# åœæ­¢æœåŠ¡
docker compose down

# é‡å¯æœåŠ¡
docker compose restart

# é‡æ–°æ„å»º
docker compose up -d --build
```

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker compose logs -f qwq

# æŸ¥çœ‹æœ€è¿‘ 100 è¡Œ
docker compose logs --tail=100 qwq

# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker compose logs -f
```

### æ•°æ®å¤‡ä»½

```bash
# å¤‡ä»½æ•°æ®ç›®å½•
tar -czf backup-$(date +%Y%m%d).tar.gz data/

# å¤‡ä»½æ•°æ®åº“
docker compose exec qwq-mysql mysqldump -u root -p qwq > backup.sql
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜ 1: ç«¯å£è¢«å ç”¨

**é”™è¯¯**: `bind: address already in use`

**è§£å†³**:
```bash
# æŸ¥æ‰¾å ç”¨è¿›ç¨‹
lsof -i :8081

# ç»ˆæ­¢è¿›ç¨‹
kill -9 <PID>

# æˆ–ä¿®æ”¹ç«¯å£
# ç¼–è¾‘ docker-compose.ymlï¼Œä¿®æ”¹ç«¯å£æ˜ å°„
```

### é—®é¢˜ 2: AI ä¸å·¥ä½œ

**æ£€æŸ¥**:
```bash
# æŸ¥çœ‹ AI ç›¸å…³æ—¥å¿—
docker compose logs qwq | grep AI
```

**è§£å†³**:
1. ç¡®è®¤ `.env` ä¸­ AI é…ç½®æ­£ç¡®
2. å¦‚æœç”¨ OpenAIï¼Œæµ‹è¯• API Key
3. å¦‚æœç”¨ Ollamaï¼Œç¡®è®¤æœåŠ¡è¿è¡Œ
4. é‡å¯æœåŠ¡: `docker compose restart qwq`

### é—®é¢˜ 3: æ„å»ºå¤±è´¥

**è§£å†³**:
```bash
# 1. æ¸…ç†ç¼“å­˜
docker system prune -a

# 2. é‡æ–°æ„å»º
docker compose build --no-cache

# 3. å¯åŠ¨
docker compose up -d
```

### é—®é¢˜ 4: æ— æ³•è®¿é—®å‰ç«¯

**è§£å†³**:
1. æ£€æŸ¥å®¹å™¨çŠ¶æ€: `docker compose ps`
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. å°è¯•ä½¿ç”¨ `http://127.0.0.1:8081`
4. æŸ¥çœ‹æ—¥å¿—: `docker compose logs qwq`

---

## ğŸ“š ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯»[ç”¨æˆ·æ‰‹å†Œ](docs/user-manual.md)äº†è§£è¯¦ç»†åŠŸèƒ½
- ğŸ”§ æŸ¥çœ‹[éƒ¨ç½²æŒ‡å—](docs/deployment-guide.md)äº†è§£é«˜çº§é…ç½®
- ğŸ› é‡åˆ°é—®é¢˜ï¼ŸæŸ¥çœ‹[å¸¸è§é—®é¢˜](docs/faq.md)
- ğŸ’¬ åŠ å…¥ç¤¾åŒºè®¨è®º

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

ç°åœ¨ä½ å·²ç»æˆåŠŸéƒ¨ç½²äº† qwq AIOps å¹³å°ï¼

è®¿é—® **http://localhost:8081** å¼€å§‹ä½ çš„æ™ºèƒ½è¿ç»´ä¹‹æ—…ï¼

æœ‰é—®é¢˜ï¼ŸæŸ¥çœ‹[å®Œæ•´æ–‡æ¡£](README.md)æˆ–[æäº¤ Issue](https://github.com/QwQBiG/qwq-aiops/issues)ã€‚
