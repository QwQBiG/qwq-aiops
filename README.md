# qwq AIOps å¹³å°

<div align="center">

**AI é©±åŠ¨çš„æ™ºèƒ½è¿ç»´å¹³å°**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Go Version](https://img.shields.io/badge/Go-1.23+-00ADD8?logo=go)](https://go.dev/)
[![Vue Version](https://img.shields.io/badge/Vue-3.x-4FC08D?logo=vue.js)](https://vuejs.org/)
[![Docker](https://img.shields.io/badge/Docker-20.10+-2496ED?logo=docker)](https://www.docker.com/)

[English](README_EN.md) | ç®€ä½“ä¸­æ–‡

</div>

## âœ¨ ç‰¹æ€§

- ğŸ¤– **AI æ™ºèƒ½è¯Šæ–­** - åŸºäº OpenAI/Ollama çš„æ™ºèƒ½é—®é¢˜åˆ†æå’Œè§£å†³æ–¹æ¡ˆæ¨è
- ğŸ“Š **å®æ—¶ç›‘æ§** - ç³»ç»Ÿèµ„æºã€æœåŠ¡çŠ¶æ€ã€å®¹å™¨å¥åº·åº¦å®æ—¶ç›‘æ§
- ğŸ”” **æ™ºèƒ½å‘Šè­¦** - è‡ªåŠ¨å·¡æ£€å¼‚å¸¸å¹¶é€šè¿‡é’‰é’‰/ä¼ä¸šå¾®ä¿¡/é‚®ä»¶æ¨é€
- ğŸ³ **å®¹å™¨ç®¡ç†** - Docker å®¹å™¨çš„å¯åŠ¨ã€åœæ­¢ã€é‡å¯å’Œæ—¥å¿—æŸ¥çœ‹
- ğŸ“ˆ **å¯è§†åŒ–é¢æ¿** - Prometheus + Grafana ç›‘æ§å¯è§†åŒ–
- ğŸ” **å®‰å…¨å¯é ** - JWT è®¤è¯ã€æ•°æ®åŠ å¯†ã€æƒé™æ§åˆ¶
- ğŸš€ **ä¸€é”®éƒ¨ç½²** - Docker Compose ä¸€é”®éƒ¨ç½²ï¼Œå¼€ç®±å³ç”¨

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker 20.10+
- Docker Compose V2
- 4GB+ å¯ç”¨å†…å­˜
- 10GB+ å¯ç”¨ç£ç›˜ç©ºé—´

### ä¸€é”®éƒ¨ç½²

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/QwQBiG/qwq-aiops.git
cd qwq-aiops

# 2. é…ç½® AI æœåŠ¡ï¼ˆå¿…é¡»ï¼‰
cp .env.example .env
nano .env  # ç¼–è¾‘é…ç½®æ–‡ä»¶

# 3. è¿è¡Œéƒ¨ç½²è„šæœ¬
chmod +x deploy.sh
./deploy.sh

# æˆ–ä½¿ç”¨ç®€åŒ–è„šæœ¬
chmod +x start.sh
./start.sh
```

**Windows ç”¨æˆ·**:
```bash
start.bat
```

### AI é…ç½®

qwq æ˜¯ AI é©±åŠ¨çš„å¹³å°ï¼Œå¿…é¡»é…ç½® AI æœåŠ¡æ‰èƒ½ä½¿ç”¨ã€‚

#### æ–¹å¼ 1: OpenAI APIï¼ˆæ¨èæ–°æ‰‹ï¼‰

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```bash
AI_PROVIDER=openai
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-3.5-turbo
```

#### æ–¹å¼ 2: Ollama æœ¬åœ°æ¨¡å‹ï¼ˆæ¨èä¼ä¸šï¼‰

```bash
# 1. å®‰è£… Ollama
curl -fsSL https://ollama.com/install.sh | sh

# 2. ä¸‹è½½æ¨¡å‹
ollama pull qwen2.5:7b

# 3. ç¼–è¾‘ .env
AI_PROVIDER=ollama
OLLAMA_HOST=http://host.docker.internal:11434
OLLAMA_MODEL=qwen2.5:7b
```

### è®¿é—®ç³»ç»Ÿ

éƒ¨ç½²æˆåŠŸåï¼Œè®¿é—®ä»¥ä¸‹åœ°å€ï¼š

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|------|------|------|
| å‰ç«¯ç•Œé¢ | http://localhost:8081 | ä¸»ç•Œé¢ |
| API æ–‡æ¡£ | http://localhost:8081/api/docs | Swagger æ–‡æ¡£ |
| Prometheus | http://localhost:9091 | ç›‘æ§æŒ‡æ ‡ |
| Grafana | http://localhost:3000 | å¯è§†åŒ–é¢æ¿ |

**é»˜è®¤è´¦å·**:
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

## ğŸ“– æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹](å¿«é€Ÿå¼€å§‹.md) - 5 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹
- [éƒ¨ç½²æŒ‡å—](docs/deployment-guide.md) - è¯¦ç»†éƒ¨ç½²è¯´æ˜
- [ç”¨æˆ·æ‰‹å†Œ](docs/user-manual.md) - åŠŸèƒ½ä½¿ç”¨è¯´æ˜
- [API æ–‡æ¡£](http://localhost:8081/api/docs) - RESTful API æ–‡æ¡£
- [å¸¸è§é—®é¢˜](docs/faq.md) - å¸¸è§é—®é¢˜è§£ç­”

## ğŸ—ï¸ æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å‰ç«¯ (Vue 3)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ç›‘æ§é¢æ¿ â”‚  â”‚ å®¹å™¨ç®¡ç† â”‚  â”‚ AI è¯Šæ–­  â”‚  â”‚ ç³»ç»Ÿè®¾ç½®â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åç«¯ API (Go)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Web æœåŠ¡ â”‚  â”‚ AI Agent â”‚  â”‚ ç›‘æ§å¼•æ“ â”‚  â”‚ å‘Šè­¦æ¨é€â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    MySQL     â”‚  â”‚    Redis     â”‚  â”‚  Prometheus  â”‚
â”‚   æ•°æ®å­˜å‚¨    â”‚  â”‚   ç¼“å­˜æœåŠ¡    â”‚  â”‚   ç›‘æ§æŒ‡æ ‡    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯
- **è¯­è¨€**: Go 1.23+
- **æ¡†æ¶**: Cobra (CLI), Gorilla (WebSocket)
- **AI**: OpenAI API / Ollama
- **æ•°æ®åº“**: SQLite / MySQL / PostgreSQL
- **ç¼“å­˜**: Redis
- **ç›‘æ§**: Prometheus

### å‰ç«¯
- **æ¡†æ¶**: Vue 3 + Vite
- **UI**: Element Plus
- **å›¾è¡¨**: ECharts
- **ç¼–è¾‘å™¨**: Monaco Editor
- **çŠ¶æ€ç®¡ç†**: Pinia

### è¿ç»´
- **å®¹å™¨**: Docker + Docker Compose
- **åå‘ä»£ç†**: Nginx (å¯é€‰)
- **ç›‘æ§**: Prometheus + Grafana

## ğŸ“Š åŠŸèƒ½æ¨¡å—

### 1. æ™ºèƒ½è¯Šæ–­
- AI é©±åŠ¨çš„é—®é¢˜åˆ†æ
- è‡ªåŠ¨ç”Ÿæˆè§£å†³æ–¹æ¡ˆ
- å‘½ä»¤æ‰§è¡Œå»ºè®®
- çŸ¥è¯†åº“é›†æˆ

### 2. ç³»ç»Ÿç›‘æ§
- CPUã€å†…å­˜ã€ç£ç›˜å®æ—¶ç›‘æ§
- è´Ÿè½½ã€ç½‘ç»œè¿æ¥ç›‘æ§
- è‡ªå®šä¹‰ç›‘æ§è§„åˆ™
- å†å²æ•°æ®æŸ¥è¯¢

### 3. å®¹å™¨ç®¡ç†
- Docker å®¹å™¨åˆ—è¡¨
- å®¹å™¨å¯åŠ¨/åœæ­¢/é‡å¯
- å®æ—¶æ—¥å¿—æŸ¥çœ‹
- å®¹å™¨èµ„æºç›‘æ§

### 4. å‘Šè­¦æ¨é€
- é’‰é’‰æœºå™¨äºº
- ä¼ä¸šå¾®ä¿¡æœºå™¨äºº
- é‚®ä»¶é€šçŸ¥
- Slack é›†æˆ

### 5. è‡ªåŠ¨å·¡æ£€
- å®šæ—¶ç³»ç»Ÿå·¡æ£€
- å¼‚å¸¸è‡ªåŠ¨æ£€æµ‹
- AI åˆ†ææŠ¥å‘Š
- å¥åº·æ—¥æŠ¥æ¨é€

## ğŸš€ éƒ¨ç½²æ–¹å¼

### Docker Composeï¼ˆæ¨èï¼‰

```bash
# å¿«é€Ÿå¯åŠ¨
./deploy.sh

# æˆ–æ‰‹åŠ¨å¯åŠ¨
docker compose up -d --build
```

### æ‰‹åŠ¨éƒ¨ç½²

```bash
# 1. æ„å»ºå‰ç«¯
cd frontend
npm install
npm run build

# 2. æ„å»ºåç«¯
cd ..
go build -o qwq ./cmd/qwq/main.go

# 3. è¿è¡Œ
./qwq web
```

### Kubernetes

```bash
# ä½¿ç”¨ Helm Chart
helm install qwq ./charts/qwq

# æˆ–ä½¿ç”¨ kubectl
kubectl apply -f k8s/
```

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ | å¿…å¡« |
|--------|------|--------|------|
| `PORT` | æœåŠ¡ç«¯å£ | 8080 | å¦ |
| `AI_PROVIDER` | AI æä¾›å•† (openai/ollama) | - | æ˜¯ |
| `OPENAI_API_KEY` | OpenAI API Key | - | æ¡ä»¶ |
| `OLLAMA_HOST` | Ollama æœåŠ¡åœ°å€ | http://localhost:11434 | æ¡ä»¶ |
| `DB_TYPE` | æ•°æ®åº“ç±»å‹ | sqlite | å¦ |
| `JWT_SECRET` | JWT å¯†é’¥ | - | æ˜¯ |

å®Œæ•´é…ç½®è¯·å‚è€ƒ [.env.example](.env.example)

### ç«¯å£è¯´æ˜

| ç«¯å£ | æœåŠ¡ | è¯´æ˜ |
|------|------|------|
| 8081 | qwq ä¸»æœåŠ¡ | å‰ç«¯ + API |
| 3308 | MySQL | æ•°æ®åº“ |
| 6380 | Redis | ç¼“å­˜ |
| 9091 | Prometheus | ç›‘æ§ |
| 3000 | Grafana | å¯è§†åŒ– |

## ğŸ”’ å®‰å…¨å»ºè®®

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. **ä¿®æ”¹é»˜è®¤å¯†ç **
   ```bash
   # ä¿®æ”¹ .env ä¸­çš„å¯†é’¥
   JWT_SECRET=$(openssl rand -base64 32)
   ENCRYPTION_KEY=$(openssl rand -base64 32)
   ```

2. **å¯ç”¨ HTTPS**
   ```bash
   # ä½¿ç”¨ Nginx åå‘ä»£ç†
   # é…ç½® SSL è¯ä¹¦
   ```

3. **é…ç½®é˜²ç«å¢™**
   ```bash
   # åªå¼€æ”¾å¿…è¦ç«¯å£
   ufw allow 80/tcp
   ufw allow 443/tcp
   ```

4. **å®šæœŸå¤‡ä»½**
   ```bash
   # é…ç½®è‡ªåŠ¨å¤‡ä»½
   BACKUP_ENABLED=true
   BACKUP_SCHEDULE="0 2 * * *"
   ```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-12-08)

- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ¤– é›†æˆ OpenAI å’Œ Ollama AI æ”¯æŒ
- ğŸ“Š å®Œæ•´çš„ç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿ
- ğŸ³ Docker å®¹å™¨ç®¡ç†
- ğŸ“ˆ Prometheus + Grafana é›†æˆ
- ğŸ” JWT è®¤è¯å’Œæƒé™æ§åˆ¶

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- [OpenAI](https://openai.com/) - AI èƒ½åŠ›æ”¯æŒ
- [Ollama](https://ollama.com/) - æœ¬åœ° AI æ¨¡å‹
- [Vue.js](https://vuejs.org/) - å‰ç«¯æ¡†æ¶
- [Go](https://go.dev/) - åç«¯è¯­è¨€
- [Docker](https://www.docker.com/) - å®¹å™¨åŒ–
- [Prometheus](https://prometheus.io/) - ç›‘æ§ç³»ç»Ÿ

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: https://github.com/QwQBiG/qwq-aiops
- é—®é¢˜åé¦ˆ: https://github.com/QwQBiG/qwq-aiops/issues
- æ–‡æ¡£: https://github.com/QwQBiG/qwq-aiops/wiki

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ï¸ Starï¼**

Made with â¤ï¸ by qwq Team

</div>
