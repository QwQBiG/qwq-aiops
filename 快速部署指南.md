# qwq AIOps å¹³å° - å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ¯ 5 åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- âœ… Windows 10/11
- âœ… Docker Desktop å·²å®‰è£…å¹¶è¿è¡Œ
- âœ… è‡³å°‘ 4GB å¯ç”¨å†…å­˜

### ä¸€é”®éƒ¨ç½²

```bash
# 1. è¿è¡Œéƒ¨ç½²æ£€æŸ¥ï¼ˆè‡ªåŠ¨ä¿®å¤é…ç½®ï¼‰
éƒ¨ç½²æ£€æŸ¥ä¿®å¤.bat

# 2. å¯åŠ¨æœåŠ¡
start.bat
```

å°±è¿™ä¹ˆç®€å•ï¼ğŸ‰

---

## ğŸ“ è¯¦ç»†æ­¥éª¤

### æ­¥éª¤ 1: æ£€æŸ¥ Docker

ç¡®ä¿ Docker Desktop æ­£åœ¨è¿è¡Œï¼š

```bash
docker info
```

å¦‚æœçœ‹åˆ° Docker ä¿¡æ¯ï¼Œè¯´æ˜è¿è¡Œæ­£å¸¸ã€‚

### æ­¥éª¤ 2: é…ç½® AI æœåŠ¡

**é‡è¦**: qwq æ˜¯ AI é©±åŠ¨çš„å¹³å°ï¼Œå¿…é¡»é…ç½® AI æœåŠ¡ï¼

#### é€‰é¡¹ A: OpenAI APIï¼ˆç®€å•å¿«é€Ÿï¼‰

1. ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
   ```bash
   notepad .env
   ```

2. æ‰¾åˆ°å¹¶ä¿®æ”¹ä»¥ä¸‹è¡Œï¼ˆåˆ é™¤ `#` æ³¨é‡Šç¬¦å·ï¼‰ï¼š
   ```bash
   AI_PROVIDER=openai
   OPENAI_API_KEY=sk-your-api-key-here  # æ›¿æ¢ä¸ºä½ çš„ API Key
   OPENAI_BASE_URL=https://api.openai.com/v1
   OPENAI_MODEL=gpt-3.5-turbo
   ```

3. ä¿å­˜æ–‡ä»¶

#### é€‰é¡¹ B: Ollama æœ¬åœ°æ¨¡å‹ï¼ˆå…è´¹ï¼‰

1. ä¸‹è½½å¹¶å®‰è£… Ollama: https://ollama.com/download

2. ä¸‹è½½æ¨¡å‹ï¼š
   ```bash
   ollama pull qwen2.5:7b
   ```

3. ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
   ```bash
   AI_PROVIDER=ollama
   OLLAMA_HOST=http://host.docker.internal:11434
   OLLAMA_MODEL=qwen2.5:7b
   ```

### æ­¥éª¤ 3: å¯åŠ¨æœåŠ¡

```bash
start.bat
```

é¦–æ¬¡å¯åŠ¨éœ€è¦ 6-10 åˆ†é’Ÿï¼ˆä¸‹è½½é•œåƒ + æ„å»ºï¼‰ã€‚

### æ­¥éª¤ 4: è®¿é—®ç³»ç»Ÿ

æµè§ˆå™¨æ‰“å¼€: http://localhost:8081

é»˜è®¤è´¦å·ï¼š
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

---

## ğŸ” éªŒè¯éƒ¨ç½²

### æ£€æŸ¥å®¹å™¨çŠ¶æ€

```bash
docker compose ps
```

åº”è¯¥çœ‹åˆ° 5 ä¸ªå®¹å™¨è¿è¡Œä¸­ï¼š
- âœ… qwq (ä¸»æœåŠ¡)
- âœ… qwq-mysql (æ•°æ®åº“)
- âœ… qwq-redis (ç¼“å­˜)
- âœ… qwq-prometheus (ç›‘æ§)
- âœ… qwq-grafana (å¯è§†åŒ–)

### å¥åº·æ£€æŸ¥

```bash
curl http://localhost:8081/api/health
```

è¿”å› `{"status":"ok"}` è¯´æ˜æœåŠ¡æ­£å¸¸ã€‚

### æŸ¥çœ‹æ—¥å¿—

```bash
docker compose logs -f qwq
```

æŒ‰ `Ctrl+C` é€€å‡ºæ—¥å¿—æŸ¥çœ‹ã€‚

---

## ğŸ¨ è®¿é—®å„ä¸ªæœåŠ¡

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|------|------|------|
| å‰ç«¯ç•Œé¢ | http://localhost:8081 | ä¸»ç•Œé¢ |
| API æ–‡æ¡£ | http://localhost:8081/api/docs | Swagger æ–‡æ¡£ |
| Prometheus | http://localhost:9091 | ç›‘æ§æŒ‡æ ‡ |
| Grafana | http://localhost:3000 | å¯è§†åŒ–é¢æ¿ |

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### å¯åŠ¨æœåŠ¡
```bash
start.bat
```

### åœæ­¢æœåŠ¡
```bash
docker compose down
```

### é‡å¯æœåŠ¡
```bash
docker compose restart
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
docker compose logs -f

# åªçœ‹ä¸»æœåŠ¡
docker compose logs -f qwq

# æŸ¥çœ‹æœ€è¿‘ 100 è¡Œ
docker compose logs --tail=100 qwq
```

### é‡æ–°æ„å»º
```bash
rebuild.bat
```

### æ¸…ç†å¹¶é‡å¯
```bash
docker compose down
docker system prune -f
docker compose up -d --build
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜ 1: ç«¯å£è¢«å ç”¨

**é”™è¯¯**: `bind: address already in use`

**è§£å†³**:
```bash
# æŸ¥æ‰¾å ç”¨è¿›ç¨‹
netstat -ano | findstr "8081"

# ç»ˆæ­¢è¿›ç¨‹ï¼ˆæ›¿æ¢ <PID>ï¼‰
taskkill /PID <PID> /F
```

### é—®é¢˜ 2: AI ä¸å·¥ä½œ

**æ£€æŸ¥**:
```bash
# æŸ¥çœ‹ AI ç›¸å…³æ—¥å¿—
docker compose logs qwq | findstr "AI"
```

**è§£å†³**:
1. ç¡®è®¤ `.env` ä¸­ AI é…ç½®æ­£ç¡®
2. å¦‚æœç”¨ OpenAIï¼Œæµ‹è¯• API Key:
   ```bash
   curl -H "Authorization: Bearer YOUR_API_KEY" https://api.openai.com/v1/models
   ```
3. å¦‚æœç”¨ Ollamaï¼Œæµ‹è¯•è¿æ¥:
   ```bash
   curl http://localhost:11434/api/tags
   ```
4. é‡å¯æœåŠ¡:
   ```bash
   docker compose restart qwq
   ```

### é—®é¢˜ 3: æ„å»ºå¤±è´¥

**è§£å†³**:
```bash
# 1. æ¸…ç†ç¼“å­˜
docker system prune -a

# 2. é‡æ–°æ„å»º
docker compose build --no-cache

# 3. å¯åŠ¨
docker compose up -d
```

### é—®é¢˜ 4: æ— æ³•è®¿é—®å‰ç«¯

**è§£å†³**:
1. æ£€æŸ¥å®¹å™¨çŠ¶æ€: `docker compose ps`
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. å°è¯•ä½¿ç”¨ `http://127.0.0.1:8081`
4. æŸ¥çœ‹æ—¥å¿—: `docker compose logs qwq`

---

## ğŸ“Š ç³»ç»Ÿè¦æ±‚

### æœ€ä½é…ç½®
- CPU: 2 æ ¸å¿ƒ
- å†…å­˜: 4GB
- ç£ç›˜: 10GB

### æ¨èé…ç½®
- CPU: 4 æ ¸å¿ƒ
- å†…å­˜: 8GB
- ç£ç›˜: 20GB

---

## ğŸ”„ æ›´æ–°ç³»ç»Ÿ

```bash
# 1. æ‹‰å–æœ€æ–°ä»£ç 
git pull

# 2. åœæ­¢æœåŠ¡
docker compose down

# 3. é‡æ–°æ„å»º
docker compose up -d --build
```

---

## ğŸ“¦ å¤‡ä»½æ•°æ®

```bash
# å¤‡ä»½æ•°æ®ç›®å½•
xcopy /E /I data data_backup_%date:~0,4%%date:~5,2%%date:~8,2%

# å¤‡ä»½æ•°æ®åº“
docker compose exec qwq-mysql mysqldump -u root -pchange-this-password qwq > backup_%date:~0,4%%date:~5,2%%date:~8,2%.sql
```

---

## ğŸ“ ä¸‹ä¸€æ­¥

éƒ¨ç½²æˆåŠŸåï¼Œä½ å¯ä»¥ï¼š

1. **ä¿®æ”¹é»˜è®¤å¯†ç **
   - ç™»å½•åè¿›å…¥"ç³»ç»Ÿè®¾ç½®"
   - ä¿®æ”¹ admin è´¦å·å¯†ç 

2. **é…ç½®ç›‘æ§å‘Šè­¦**
   - è¿›å…¥"ç›‘æ§ç®¡ç†"
   - æ·»åŠ ç›‘æ§ç›®æ ‡
   - é…ç½®å‘Šè­¦è§„åˆ™

3. **æ¥å…¥å®¹å™¨**
   - è¿›å…¥"å®¹å™¨ç®¡ç†"
   - æ·»åŠ  Docker ä¸»æœº
   - å¼€å§‹ç®¡ç†å®¹å™¨

4. **ä½¿ç”¨ AI è¯Šæ–­**
   - è¿›å…¥"æ™ºèƒ½è¯Šæ–­"
   - è¾“å…¥é—®é¢˜æè¿°
   - è·å– AI å»ºè®®

---

## ğŸ“ è·å–å¸®åŠ©

- ğŸ“– å®Œæ•´æ–‡æ¡£: `README.md`
- ğŸ”§ éƒ¨ç½²éªŒè¯: `éƒ¨ç½²éªŒè¯æ¸…å•.md`
- ğŸ› é—®é¢˜åé¦ˆ: https://github.com/QwQBiG/qwq-aiops/issues

---

## âœ¨ å¿«é€Ÿå‚è€ƒ

```bash
# æ£€æŸ¥ç¯å¢ƒ
éƒ¨ç½²æ£€æŸ¥ä¿®å¤.bat

# å¯åŠ¨æœåŠ¡
start.bat

# æŸ¥çœ‹çŠ¶æ€
docker compose ps

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f qwq

# åœæ­¢æœåŠ¡
docker compose down

# é‡æ–°æ„å»º
rebuild.bat

# å¥åº·æ£€æŸ¥
curl http://localhost:8081/api/health

# è®¿é—®å‰ç«¯
start http://localhost:8081
```

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€
