# ðŸ“ README æ›´æ–°è¯´æ˜Ž

## æ›´æ–°æ—¥æœŸ
2025-12-08

## æ›´æ–°åŽŸå› 

ç”¨æˆ·åé¦ˆå¸Œæœ›èƒ½å¤Ÿè‡ªå·±é…ç½® `.env` æ–‡ä»¶ï¼Œè€Œä¸æ˜¯åªä¾èµ–è„šæœ¬è‡ªåŠ¨é…ç½®ã€‚

## æ›´æ–°å†…å®¹

### 1. âœ… å¢žåŠ ä¸‰ç§éƒ¨ç½²æ–¹å¼

**ä¹‹å‰**ï¼šåªæœ‰ä¸€é”®éƒ¨ç½²å’Œ Docker Compose ä¸¤ç§æ–¹å¼

**çŽ°åœ¨**ï¼šæä¾›ä¸‰ç§æ¸…æ™°çš„éƒ¨ç½²æ–¹å¼

#### æ–¹å¼ä¸€ï¼šä¸€é”®éƒ¨ç½²ï¼ˆæŽ¨èæ–°æ‰‹ï¼‰

```bash
chmod +x ä¸€é”®éƒ¨ç½².sh
sudo ./ä¸€é”®éƒ¨ç½².sh
```

**ä¼˜ç‚¹**ï¼š
- âœ… å…¨è‡ªåŠ¨é…ç½®
- âœ… äº¤äº’å¼é€‰æ‹© AI æœåŠ¡
- âœ… è‡ªåŠ¨é…ç½®é•œåƒæº
- âœ… è‡ªåŠ¨éªŒè¯æœåŠ¡

**é€‚åˆ**ï¼šæ–°æ‰‹ç”¨æˆ·ã€å¿«é€Ÿéƒ¨ç½²

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨é…ç½® .envï¼ˆæŽ¨èç†Ÿæ‚‰é…ç½®çš„ç”¨æˆ·ï¼‰

```bash
# 1. å¤åˆ¶é…ç½®æ–‡ä»¶
cp .env.example .env

# 2. ç¼–è¾‘é…ç½®
nano .env

# 3. é…ç½® AI æœåŠ¡ï¼ˆå–æ¶ˆæ³¨é‡Šå¹¶å¡«å€¼ï¼‰
# AI_PROVIDER=openai
# OPENAI_API_KEY=sk-your-key

# 4. å¯åŠ¨æœåŠ¡
docker compose up -d --build
```

**ä¼˜ç‚¹**ï¼š
- âœ… å®Œå…¨æŽ§åˆ¶é…ç½®
- âœ… ç¬¦åˆä¼ ç»Ÿä¹ æƒ¯
- âœ… ä¾¿äºŽç‰ˆæœ¬ç®¡ç†
- âœ… æ˜“äºŽè‡ªåŠ¨åŒ–éƒ¨ç½²

**é€‚åˆ**ï¼šç†Ÿæ‚‰ Docker çš„ç”¨æˆ·ã€è‡ªåŠ¨åŒ–éƒ¨ç½²

#### æ–¹å¼ä¸‰ï¼šä½¿ç”¨é…ç½®è„šæœ¬ + Docker Compose

```bash
# 1. è¿è¡Œé…ç½®è„šæœ¬
./é…ç½®AIæœåŠ¡.sh

# 2. å¯åŠ¨æœåŠ¡
docker compose up -d --build
```

**ä¼˜ç‚¹**ï¼š
- âœ… äº¤äº’å¼é…ç½®
- âœ… è‡ªåŠ¨æ›´æ–° docker-compose.yml
- âœ… æ”¯æŒé…ç½®åˆ‡æ¢

**é€‚åˆ**ï¼šéœ€è¦é¢‘ç¹åˆ‡æ¢ AI æœåŠ¡çš„ç”¨æˆ·

### 2. âœ… æ›´æ–°çš„æ–‡ä»¶

| æ–‡ä»¶ | æ›´æ–°å†…å®¹ |
|------|---------|
| README.md | æ·»åŠ ä¸‰ç§éƒ¨ç½²æ–¹å¼ï¼Œè¯¦ç»†è¯´æ˜Ž .env é…ç½® |
| README_EN.md | åŒæ­¥æ›´æ–°è‹±æ–‡ç‰ˆ |
| å¿«é€Ÿå¼€å§‹.md | æ·»åŠ  .env é…ç½®æ–¹æ³• |

### 3. âœ… æ–°å¢žçš„è¯´æ˜Ž

#### .env é…ç½®æ­¥éª¤

```bash
# 1. å¤åˆ¶å¹¶ç¼–è¾‘çŽ¯å¢ƒå˜é‡æ–‡ä»¶
cp .env.example .env
nano .env

# 2. é…ç½® AI æœåŠ¡ï¼ˆå¿…é¡»é…ç½®ï¼ŒäºŒé€‰ä¸€ï¼‰
# æ–¹å¼ 1: OpenAI API
# AI_PROVIDER=openai
# OPENAI_API_KEY=sk-your-api-key-here
# OPENAI_BASE_URL=https://api.openai.com/v1
# OPENAI_MODEL=gpt-3.5-turbo

# æ–¹å¼ 2: Ollama æœ¬åœ°æ¨¡åž‹
# AI_PROVIDER=ollama
# OLLAMA_HOST=http://localhost:11434
# OLLAMA_MODEL=qwen2.5:7b

# 3. å–æ¶ˆæŸä¸€ç§æ–¹å¼çš„æ³¨é‡Šï¼ˆåˆ é™¤è¡Œé¦–çš„ #ï¼‰å¹¶å¡«å…¥æ­£ç¡®çš„å€¼

# 4. å¯åŠ¨æœåŠ¡
docker compose up -d --build
```

#### é‡è¦æç¤º

- âš ï¸ å¿…é¡»é…ç½® AI æœåŠ¡ï¼Œå¦åˆ™æ— æ³•å¯åŠ¨
- å–æ¶ˆæ³¨é‡Šæ—¶åˆ é™¤è¡Œé¦–çš„ `#` å’Œç©ºæ ¼
- OpenAI éœ€è¦æœ‰æ•ˆçš„ API Key
- Ollama éœ€è¦å…ˆå®‰è£…å¹¶å¯åŠ¨æœåŠ¡

## é…ç½®æ–¹å¼å¯¹æ¯”

| ç‰¹æ€§ | ä¸€é”®éƒ¨ç½² | .env é…ç½® | é…ç½®è„šæœ¬ |
|------|---------|----------|---------|
| éš¾åº¦ | â­ ç®€å• | â­â­ ä¸­ç­‰ | â­ ç®€å• |
| è‡ªåŠ¨åŒ– | âœ… å…¨è‡ªåŠ¨ | âŒ æ‰‹åŠ¨ | âœ… åŠè‡ªåŠ¨ |
| çµæ´»æ€§ | â­â­ ä¸­ç­‰ | â­â­â­ é«˜ | â­â­ ä¸­ç­‰ |
| ç‰ˆæœ¬ç®¡ç† | âŒ ä¸ä¾¿ | âœ… æ–¹ä¾¿ | âŒ ä¸ä¾¿ |
| é…ç½®åˆ‡æ¢ | âœ… æ–¹ä¾¿ | â­â­ ä¸­ç­‰ | âœ… æ–¹ä¾¿ |
| é€‚åˆåœºæ™¯ | æ–°æ‰‹éƒ¨ç½² | ç”Ÿäº§çŽ¯å¢ƒ | æµ‹è¯•çŽ¯å¢ƒ |

## æŽ¨èä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: é¦–æ¬¡éƒ¨ç½²ï¼ˆæ–°æ‰‹ï¼‰

**æŽ¨è**ï¼šæ–¹å¼ä¸€ï¼ˆä¸€é”®éƒ¨ç½²ï¼‰

```bash
chmod +x ä¸€é”®éƒ¨ç½².sh
sudo ./ä¸€é”®éƒ¨ç½².sh
```

**ç†ç”±**ï¼šå…¨è‡ªåŠ¨ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

### åœºæ™¯ 2: ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²

**æŽ¨è**ï¼šæ–¹å¼äºŒï¼ˆ.env é…ç½®ï¼‰

```bash
cp .env.example .env
# ç¼–è¾‘ .env é…ç½®æ‰€æœ‰å‚æ•°
docker compose up -d --build
```

**ç†ç”±**ï¼š
- é…ç½®æ–‡ä»¶å¯ä»¥ç‰ˆæœ¬ç®¡ç†
- ä¾¿äºŽè‡ªåŠ¨åŒ–éƒ¨ç½²
- ç¬¦åˆ DevOps æœ€ä½³å®žè·µ

### åœºæ™¯ 3: å¼€å‘æµ‹è¯•çŽ¯å¢ƒ

**æŽ¨è**ï¼šæ–¹å¼ä¸‰ï¼ˆé…ç½®è„šæœ¬ï¼‰

```bash
./é…ç½®AIæœåŠ¡.sh
docker compose up -d --build
```

**ç†ç”±**ï¼š
- å¿«é€Ÿåˆ‡æ¢ AI æœåŠ¡
- æ–¹ä¾¿æµ‹è¯•ä¸åŒé…ç½®

### åœºæ™¯ 4: CI/CD è‡ªåŠ¨åŒ–éƒ¨ç½²

**æŽ¨è**ï¼šæ–¹å¼äºŒï¼ˆ.env é…ç½®ï¼‰

```bash
# åœ¨ CI/CD è„šæœ¬ä¸­
cat > .env <<EOF
AI_PROVIDER=openai
OPENAI_API_KEY=${OPENAI_API_KEY}
OPENAI_MODEL=gpt-3.5-turbo
EOF

docker compose up -d --build
```

**ç†ç”±**ï¼š
- å¯ä»¥ä»ŽçŽ¯å¢ƒå˜é‡æˆ–å¯†é’¥ç®¡ç†ç³»ç»Ÿè¯»å–
- ä¾¿äºŽè‡ªåŠ¨åŒ–
- å®‰å…¨æ€§é«˜

## é…ç½®ç¤ºä¾‹

### OpenAI é…ç½®ç¤ºä¾‹

```bash
# .env æ–‡ä»¶
AI_PROVIDER=openai
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxx
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-3.5-turbo
```

### Ollama é…ç½®ç¤ºä¾‹

```bash
# .env æ–‡ä»¶
AI_PROVIDER=ollama
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=qwen2.5:7b
```

### ç¡…åŸºæµåŠ¨é…ç½®ç¤ºä¾‹

```bash
# .env æ–‡ä»¶
AI_PROVIDER=openai
OPENAI_API_KEY=sk-xxxxxxxxxxxxx
OPENAI_BASE_URL=https://api.siliconflow.cn/v1
OPENAI_MODEL=deepseek-chat
```

## éªŒè¯é…ç½®

### 1. æ£€æŸ¥ .env æ–‡ä»¶

```bash
cat .env | grep -E "AI_PROVIDER|OPENAI_API_KEY|OLLAMA_HOST"
```

### 2. å¯åŠ¨æœåŠ¡å¹¶æŸ¥çœ‹æ—¥å¿—

```bash
docker compose up -d
docker compose logs qwq | grep -i "ai"
```

**é¢„æœŸè¾“å‡º**ï¼š
```
qwq  | AI Provider: openai
qwq  | AI Model: gpt-3.5-turbo
```

### 3. å¥åº·æ£€æŸ¥

```bash
curl http://localhost:8081/api/health
```

## å¸¸è§é—®é¢˜

### Q1: .env å’Œ docker-compose.yml å“ªä¸ªä¼˜å…ˆï¼Ÿ

**A**: docker-compose.yml ä¸­çš„çŽ¯å¢ƒå˜é‡ä¼˜å…ˆçº§æ›´é«˜ã€‚å¦‚æžœä¸¤ä¸ªéƒ½é…ç½®äº†ï¼Œdocker-compose.yml çš„é…ç½®ä¼šè¦†ç›– .envã€‚

**å»ºè®®**ï¼š
- ä½¿ç”¨ .env æ–‡ä»¶é…ç½®ï¼ˆæŽ¨èï¼‰
- æˆ–è€…ä½¿ç”¨ docker-compose.yml é…ç½®
- ä¸è¦ä¸¤ä¸ªéƒ½é…ç½®ï¼Œé¿å…æ··æ·†

### Q2: å¦‚ä½•åœ¨ .env ä¸­é…ç½®å¤šä¸ªçŽ¯å¢ƒï¼Ÿ

**A**: åˆ›å»ºå¤šä¸ª .env æ–‡ä»¶ï¼š

```bash
# å¼€å‘çŽ¯å¢ƒ
.env.development

# ç”Ÿäº§çŽ¯å¢ƒ
.env.production

# ä½¿ç”¨æ—¶æŒ‡å®š
docker compose --env-file .env.production up -d
```

### Q3: .env æ–‡ä»¶ä¼šè¢«æäº¤åˆ° Git å—ï¼Ÿ

**A**: ä¸ä¼šã€‚`.env` å·²ç»åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«æäº¤ã€‚

**å»ºè®®**ï¼š
- æäº¤ `.env.example` ä½œä¸ºæ¨¡æ¿
- ä¸è¦æäº¤ `.env` æ–‡ä»¶ï¼ˆåŒ…å«æ•æ„Ÿä¿¡æ¯ï¼‰

### Q4: å¦‚ä½•åœ¨ Docker Compose ä¸­ä½¿ç”¨ .envï¼Ÿ

**A**: Docker Compose ä¼šè‡ªåŠ¨è¯»å– `.env` æ–‡ä»¶ï¼š

```yaml
# docker-compose.yml
services:
  qwq:
    environment:
      - AI_PROVIDER=${AI_PROVIDER}
      - OPENAI_API_KEY=${OPENAI_API_KEY}
```

ä½†æˆ‘ä»¬çš„é…ç½®å·²ç»åœ¨ docker-compose.yml ä¸­äº†ï¼Œæ‰€ä»¥ç›´æŽ¥ä¿®æ”¹ .env å³å¯ã€‚

## æ€»ç»“

âœ… **çŽ°åœ¨æä¾›ä¸‰ç§éƒ¨ç½²æ–¹å¼**  
âœ… **æŽ¨èä½¿ç”¨ .env é…ç½®ï¼ˆç¬¦åˆä¼ ç»Ÿä¹ æƒ¯ï¼‰**  
âœ… **ä¸€é”®éƒ¨ç½²ä»ç„¶æ˜¯æœ€ç®€å•çš„æ–¹å¼**  
âœ… **æ‰€æœ‰æ–‡æ¡£å·²æ›´æ–°**

**ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯é€‰æ‹©æœ€åˆé€‚çš„éƒ¨ç½²æ–¹å¼ï¼** ðŸŽ‰

---

**ç›¸å…³æ–‡æ¡£**ï¼š
- [README.md](README.md) - ä¸»è¦æ–‡æ¡£
- [å¿«é€Ÿå¼€å§‹.md](å¿«é€Ÿå¼€å§‹.md) - å¿«é€Ÿéƒ¨ç½²æŒ‡å—
- [AIé…ç½®è¯´æ˜Ž.md](AIé…ç½®è¯´æ˜Ž.md) - AI é…ç½®è¯¦ç»†è¯´æ˜Ž
- [éƒ¨ç½²é…ç½®ä¿®å¤å®Œæˆ.md](éƒ¨ç½²é…ç½®ä¿®å¤å®Œæˆ.md) - é…ç½®ä¿®å¤è¯¦æƒ…
